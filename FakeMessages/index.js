(function(c,i,l,u,t){"use strict";const{FormSection:m,FormInput:o,FormRow:g}=u.Forms,h=l.findByProps("getCurrentUser","getUser");function d(e,a,s,r){const n=h.getUser(a),y={id:r||String(Date.now()),type:0,channel_id:e,author:{id:a,username:n?n.username:"FakeUser",discriminator:n?n.discriminator:"0001",avatar:n?n.avatar:null,bot:n?n.bot:!1},content:s,mentions:[],mention_roles:[],pinned:!1,tts:!1,attachments:[],embeds:[],timestamp:new Date().toISOString(),state:"SENT",fake:!0};i.FluxDispatcher.dispatch({type:"MESSAGE_CREATE",channelId:e,message:y})}function f(e){t.storage.savedMessages=e,t.storage._lastUpdate=Date.now()}function v(e,a,s){const r=t.storage.savedMessages||[],n=String(Date.now());r.push({id:n,channelId:e,userId:a,content:s}),f(r)}function I(){(t.storage.savedMessages||[]).forEach(function(e){d(e.channelId,e.userId,e.content,e.id)})}var E={onLoad(){setTimeout(I,1e3)},onUnload(){},settings:function(){return React.createElement(m,{title:"Fake Message"},React.createElement(o,{title:"Channel ID",placeholder:"enter channel id",value:t.storage.channelId??"",onChange:function(e){return t.storage.channelId=e}}),React.createElement(o,{title:"User ID",placeholder:"enter user id",value:t.storage.userId??"",onChange:function(e){return t.storage.userId=e}}),React.createElement(o,{title:"Message",placeholder:"enter fake message",value:t.storage.message??"",onChange:function(e){return t.storage.message=e}}),React.createElement(o,{title:"Delay (seconds)",placeholder:"enter delay in seconds",value:t.storage.delay??"",onChange:function(e){return t.storage.delay=e}}),React.createElement(g,{label:"Send Fake Message",onPress:function(){const{channelId:e,userId:a,message:s,delay:r}=t.storage;if(e&&a&&s){const n=parseInt(r||"0")*1e3;setTimeout(function(){d(e,a,s),v(e,a,s)},n)}}}))}};return c.default=E,Object.defineProperty(c,"__esModule",{value:!0}),c})({},vendetta.metro.common,vendetta.metro,vendetta.ui.components,vendetta.plugin);
